<?php
/**
 * This file is part of the AppFrontPageBundle package.
 *
 */
namespace App\OfferBundle\Twig;
/**
 * Class FilterExtension
 *
 * @author wojciech przygoda
 */
class FilterExtension extends \Twig_Extension
{
    /**
     * Return the fileters registered as twig extensions
     *
     * @return array
     */
    public function getFilters()
    {
        return array(
            new \Twig_SimpleFilter('boldKeywords', array($this, 'boldKeywords')),
			new \Twig_SimpleFilter('phoneMask', array($this, 'phoneMask'))
        );
    }
    
    public function phoneMask($text)
	{
		$visible = substr( $text, 0, 5 );
		$masked = substr( $text, 5 );
		$masked = preg_replace('/[0-9]{1}/', '', $masked );
		
		return $visible.$masked;
	}
    
    public function boldKeywords($text) {
        $words = array('mieszkania',
'mieszkań',
'mieszkaniom',
'mieszkaniami',
'mieszkaniach',
'mieszkania',
'mieszkaniu',
'mieszkanie',
'mieszkaniem',
'mieszkaniu',
'domy',
'domów',
'domom',
'domami',
'domach',
'domu',
'domowi',
'dom',
'domem',
'domie',
'działki',
'działek',
'działkom',
'działkami',
'działkach',
'działka',
'działce',
'działkę',
'działką',
'lokale',
'lokali',
'lokalów',
'lakolom',
'lokalami',
'lokalach',
'lokal',
'lokalu',
'lokalowi',
'lokalem',
'lokalu',
'komercyjne',
'komercyjnych',
'komeryjnym',
'komercyjnymi',
'komercyjnego',
'komercyjnemu',
'komercyjna',
'komercyjnej',
'komercyjną',
'komercyjnego',
'komercyjnemu',
'komercyjnego',
'komercyjny',
'komercyjnym',
'komercyjnym',
'komercyjny',
'garaże',
'garaży',
'garażom',
'garaże',
'garażami',
'garażach',
'garaże',
'garażu',
'garażowi',
'garaż',
'garażem',
'sprzedaż',
'sprzedaży',
'sprzedażowy',
'sprzedażowemu',
'sprzedażowego',
'sprzedażowej',
'sprzedażowych',
'kupna',
'kupnu',
'kupnem',
'kupnie',
'wynajem',
'wynajmowi',
'wynajmem',
'wynajmie',
'najem',
'najmowi',
'najem',
'najmem',
'najmie',
'budowlana',
'budowlanej',
'budowlaną',
'budowlanym',
'budowlane',
'budowlanymi',
'budowlanych',
'budowlanego',
'budowlanemu',
'budowlany',
'rekreacyjna',
'rekreacyjnej',
'rekreacyjną',
'rekreacyjnych',
'rekreacyjnym',
'rekreacyjne',
'rekreacyjnymi',
'rolny',
'rolnemu',
'rolnego',
'rolnym',
'rolnych',
'rolne',
'rolnymi',
'rolnej',
'rolną',
'rolna',
'leśny',
'leśnemu',
'leśnego',
'leśnym',
'leśnych',
'leśne',
'leśnymi',
'inwestycyjny',
'inwestycyjnemu',
'inwestycyjnego',
'inwestycyjnych',
'inwestycyjnym',
'inwestycyjne',
'inwestycyjnymi',
'zabudowy',
'zabudowa',
'zabudowę',
'zabudową',
'siedliskowa',
'siedliskowej',
'siedliskową',
'biurowy',
'biurowego',
'biurowemu',
'biurowym',
'biurowa',
'biurowej',
'biurową',
'usługowy',
'usługowego' ,
'usługowemu',
'usługowym',
'usługowe',
'usługowych',
'usługowymi',
'gastronomiczny',
'gastronomicznemu',
'gastronomicznego',
'gastronomiczny',
'gastronomicznym',
'handlowy',
'handlowego',
'handlowemu',
'handlowym',
'handlowe',
'handlowymi',
'handlowych',
'biurowiec',
'biurowcowi',
'biurowca',
'biurowiecem',
'biurowiecu',
'biurowcu',
'biurowców',
'biurowcom',
'biurowce',
'biurowcami',
'biurowcach',
'kamienica',
'kamienicy',
'kamienicę',
'kamienicą',
'kamienico',
'kamienic',
'kamienicom',
'kamienice',
'kamienicami',
'kamienicach',
'wielorodzinny',
'wielorodzinnemu',
'wielorodzinnego',
'wielorodzinnym',
'wielorodzinnych',
'budynek',
'budynkowi',
'budynkiem',
'budynka',
'budynki',
'budynków',
'budynkom',
'budynkami',
'budynkach',
'hotelowy',
'hotelowym',
'hotelowemu',
'hotelowe',
'hotelowych',
'hotelowymi',
'hotelowa',
'obiekt',
'obiektem',
'obiektowi',
'obiekcie',
'obiekty',
'obiektów',
'obiektom',
'obiektami',
'obiektach',
'pensjonat',
'pensjonatu',
'pensjonatowi',
'pensjonatem',
'pensjonacie',
'pensjonatów',
'pensjonatom',
'pensjonaty',
'pensjonatami',
'pensjonatach',
'wypoczynkowy',
'wypoczynkowego',
'wypoczynkowemu',
'wypoczynkowym',
'wypoczynkowe',
'wypoczynkowych',
'restauracji',
'restauracją',
'restaurację',
'restauracje',
'restauracji',
'restauracjom',
'restauracjami',
'restauracjach',
'restauracje',
'pub',
'pubie',
'pubów',
'pubu',
'pubem',
'pubowi',
'stadnina',
'stadniny',
'stadninie',
'stadninę',
'stadniną',
'magazyn',
'magazynu',
'magazynowi',
'magazynem',
'magazynie',
'magazyny',
'magazynów',
'magazynom',
'magazynami',
'magazynach',
'hala',
'hali',
'halę',
'halą',
'produkcyjna',
'produkcyjną',
'produkcyjnej',
'ośrodek',
'ośrodka',
'ośrodkach',
'ośrodkami',
'ośrodki',
'ośrodkiem',
'ośrodkom',
'ośrodkowi',
'ośrodków',
'ośrodku',
'grunt',
'gruncie',
'gruntach',
'gruntami',
'gruntem',
'gruntom',
'gruntowi',
'gruntów',
'gruntu',
'grunty',
'działka',
'działce',
'działek',
'działkach',
'działkami',
'działką',
'działkę',
'działki',
'działkom',
'blok',
'blokach',
'blokami',
'bloki',
'blokiem',
'blokom',
'blokowi',
'bloków',
'bloku',
'willa',
'will',
'willach',
'willami',
'willą',
'wille',
'willę',
'willi',
'willom',
'adaptacja',
'adaptacjach',
'adaptacjami',
'adaptacją',
'adaptacje',
'adaptację',
'adaptacji',
'adaptacjom',
'strych',
'strychach',
'strychami',
'strychem',
'strychom',
'strychowi',
'strychów',
'strychu',
'strychy',
'apartament',
'apartamencie',
'apartamentach',
'apartamentami',
'apartamentem',
'apartamentom',
'apartamentowi',
'apartamentów',
'apartamentu',
'apartamenty',
'loft',
'lofcie',
'loftach',
'loftami',
'loftem',
'loftom',
'loftowi',
'loftów',
'loftu',
'lofty',
'pokojami',
'pokoje',
'pokojem',
'pokojom',
'pokojowi',
'pokojów',
'pokoju',
'pokój',
'pokoi',
'pokojach',
'miejsce',
'miejsc',
'miejsca',
'miejscach',
'miejscami',
'miejscem',
'miejscom',
'miejscu',
'parking',
'parkingach',
'parkingami',
'parkingi',
'parkingiem',
'parkingom',
'parkingowi',
'parkingów',
'parkingu',
'wind',
'windach',
'windami',
'windą',
'windę',
'windom',
'windy',
'windzie',
'wolnostojącego',
'wolnostojącemu',
'wolnostojącym',
'wolnostojący',
'bliźniak',
'bliźniaka',
'bliźniakach',
'bliźniakami',
'bliźniaki',
'bliźniakiem',
'bliźniakom',
'bliźniakowi',
'bliźniaków',
'bliźniaku',
'szereg',
'szeregach',
'szeregami',
'szeregi',
'szeregiem',
'szeregom',
'szeregowi',
'szeregów',
'szeregu',
'warsztatem',
'warsztacie',
'warsztat',
'warsztat',
'warsztatach',
'warsztatami',
'warsztatem',
'warsztatom',
'warsztatowi',
'warsztatów',
'warsztatu',
'warsztaty',
'gospodarczy',
'gospodarcza',
'gospodarczą',
'gospodarcze',
'gospodarczego',
'gospodarczej',
'gospodarczemu',
'gospodarczych',
'gospodarczym',
'balkon',
'balkonach',
'balkonami',
'balkonem',
'balkonie',
'balkonom',
'balkonowi',
'balkonów',
'balkonu',
'balkony',
'winda',
'taras',
'tarasach',
'tarasami',
'tarasem',
'tarasie',
'tarasom',
'tarasowi',
'tarasów',
'tarasu',
'tarasy',
'loggia',
'loggią',
'loggię',
'loggii',
'ogródek',
'ogródka',
'ogródkach',
'ogródkami',
'ogródki',
'ogródkiem',
'ogródkom',
'ogródkowi',
'ogródków',
'ogródku',
'dwupoziomowe',
'dwupoziomowego',
'dwupoziomowemu',
'dwupoziomowy',
'dwupoziomowym',
'monitoring',
'monitoringach',
'monitoringami',
'monitoringi',
'monitoringiem',
'monitoringom',
'monitoringowi',
'monitoringów',
'monitoringu',
'ochrona',
'chroniony',
'ochroną',
'deweloperka',
'deweloperce',
'deweloperką',
'deweloperkę',
'deweloperki',
'remont',
'remoncie',
'remont',
'remontach',
'remontami',
'remontem',
'remontom',
'remontowi',
'remontów',
'remontu',
'remonty',
'remonty',
'wykończenia',
'wykończenia',
'wykończeniach',
'wykończeniami',
'wykończeniom',
'wykończeń',
'zamieszkania',
'zamieszkania',
'zamieszkania',
'zamieszkaniach',
'zamieszkaniami',
'zamieszkanie',
'zamieszkanie',
'zamieszkaniem',
'zamieszkaniom',
'zamieszkaniu',
'zamieszkań',
'las',
'lasach',
'lasami',
'lasem',
'lasom',
'lasowi',
'lasów',
'lasu',
'lasy',
'lesie',
'góry',
'gór',
'górach',
'górami',
'górom',
'góry',
'klimatyzacja',
'klimatyzacją',
'klimatyzację',
'klimatyzacji',
'piwnica',
'piwnic',
'piwnicach',
'piwnicami',
'piwnicą',
'piwnice',
'piwnicę',
'piwnicom',
'piwnicy',
'basen',
'basen',
'basenach',
'basenami',
'basenem',
'basenie',
'basenom',
'basenowi',
'basenów',
'basenu',
'baseny',
'baseny',
'rolety',
'rolecie',
'rolet',
'roleta',
'roletach',
'roletami',
'roletą',
'roletę',
'roletom',
'rolety',
'rolety',
'antywłamaniowe',
'antywłamaniowa',
'antywłamaniową',
'antywłamaniowe',
'antywłamaniowego',
'antywłamaniowej',
'antywłamaniowemu',
'antywłamaniowi',
'antywłamaniowy',
'antywłamaniowych',
'antywłamaniowych',
'antywłamaniowym',
'antywłamaniowym',
'antywłamaniowymi',
'letniskowy',
'letniskowego',
'letniskowemu',
'letniskowym',
'rezydencja',
'rezydencjach',
'rezydencjami',
'rezydencją',
'rezydencje',
'rezydencje',
'rezydencję',
'rezydencji',
'rezydencji',
'rezydencjom',
'dwór',
'dworem',
'dworowi',
'dworu',
'dworze',
'dwór',
'pałac',
'pałac',
'pałacem',
'pałacowi',
'pałacu',
'zamek',
'zamkach',
'zamkami',
'zamki',
'zamki',
'zamkiem',
'zamkom',
'zamkowi',
'zamków',
'zamku',
'jezioro',
'jezior',
'jeziora',
'jeziorach',
'jeziorami',
'jeziorem',
'jeziorom',
'jezioru',
'jeziorze',
'morze',
'morza',
'morzach',
'morzami',
'morzem',
'morzom',
'morzu',
'mórz',
'nieruchomość',
'nieruchomości',
'nieruchomością',
'nieruchomościom',
'nieruchomościami',
'nieruchomościach',

);
        setlocale( LC_ALL, array( 'pl_PL', 'pl_PL.ISO8859-2', 'polish_pol' ) );
        $pattern = '/\b('.join('|',$words).')\b/i';
        $replacement = '<strong>$1</strong>';
        return preg_replace($pattern, $replacement, $text);
    }
    
    /**
     * Get name
     *
     * @return string
     */
    public function getName()
    {
        return 'offer_filter_extension';
    }
}

