{% extends "AppBackOfficeBundle:_Partials:layout.html.twig" %}
{% block body %}
    <section class="content-header">
      <h1>
        Dodaj ogłoszenie
      </h1>
      <ol class="breadcrumb">
        <li><a href="#" title="Dashboard"><i class="fa fa-dashboard"></i> Dashboard</a></li>
        <li class="active">Ogłoszenia</li>
      </ol>
    </section>
    <section class="content">
        <div class="row new-offer">
            {% include 'AppBackOfficeBundle:_Partials:flashMessage.html.twig' %}
            <div class="col-md-12">
            <div class="box">
            <div class="box-header with-border">

            </div>
            <!-- /.box-header -->
            <div class="box-body">
                <div class="col-md-10">
                    <form method="POST" action="" novalidate>
                    <div class="offer-form">
                        <div class="row location">
                            <div class="col-md-12">
                                <h2>Ustawienia</h2>
                            </div>
                            <div class="col-md-3">
                                <div class="form-group">
                                    <label>Rodzaj nieruchomości</label>
                                    {{form_widget(form.type,{'attr':{'data-validator':'required'}})}}
                                    {{form_errors(form.type)}}
                                </div>
                            </div>
                            <div class="col-md-3">
                                <div class="form-group">
                                    <label>Typ Transakcji</label>
                                    {{form_widget(form.transactionType,{'attr':{'data-validator':'required'}})}}
                                    {{form_errors(form.transactionType)}}
                                </div>
                            </div>
                            <div class="col-md-2">
                                <div class="form-group">
                                    <label>Publikuj na</label>
                                    {{form_widget(form.days,{'attr':{'data-validator':'required'}})}}
                                    {{form_errors(form.days)}}
                                </div>
                            </div>
                            <div class="col-md-2">
                                <div class="form-group">
                                    <label>Oferta Promowana</label>
                                    {{form_widget(form.isPromo)}}
                                    {{form_errors(form.isPromo)}}
                                </div>
                            </div>
                            <div class="col-md-2">
                                <div class="form-group">
                                    <label>Promuj na</label>
                                    {{form_widget(form.promoDays,{'attr':{'data-validator':'required'}})}}
                                    {{form_errors(form.promoDays)}}
                                </div>
                            </div>
                        </div>
                        {% include 'AppOfferBundle:_Partials:formCategory'~ category.uniqueKey | capitalize ~'.html.twig' %}
                        {% include 'AppOfferBundle:_Partials:formPartGalleryAndVideo.html.twig' %}
                        {% include 'AppOfferBundle:_Partials:formPartNameAndDesc.html.twig' %}
                        {% include 'AppOfferBundle:_Partials:formPartContactData.html.twig' %}
                    </div>
                    <div class="col-md-12 no-padding">
                        <button class="btn btn-primary pull-right" type="submit">Zobacz Podgląd Ogłoszenia</button>
                    </div>
                        <input type="file" name="images" class="hidden" id="images" multiple />
                        {{ form_widget(form.lat) }}
                        {{ form_widget(form.lng) }}
                        {{ form_widget(form.properties.tmpId) }}
                        {{ form_end(form, {'render_rest': false}) }}
                    </form>
                </div>
            </div>
          </div>
            </div>
                <!-- /.col-lg-12 -->
        </div>
    </section>
{% endblock body %}
{% block javascripts %}
    <script src="{{asset('front-layout/lib/jqueryui/jquery-ui.min.js')}}"></script>
    <script src="{{asset('front-layout/lib/validate/validate.min.js')}}"></script>
    <script src="{{asset('front-layout/lib/numberformat/jquery.number.min.js')}}"></script>
    <script src="https://maps.google.com/maps/api/js" type="text/javascript"></script>
    <script src="{{asset('front-layout/lib/datepicker/bootstrap-datepicker.js')}}"></script>
    <script src="{{asset('front-layout/lib/datepicker/locales/pl.min.js')}}"></script>
    <script type="text/javascript">
    var idOffer = "{{offer.id}}";
    var imageAddUrl = "{{path('frontend_offer_image_add')}}";
    var imageRemoveUrl = "{{path('frontend_offer_image_delete')}}";
    var imageSortUrl = "{{path('frontend_offer_images_sort')}}";
    var suggestionsRegionUrl = '{{path('frontend_region_autocomplete')}}';
    var suggestionsCityUrl = '{{path('frontend_city_autocomplete')}}';
    var suggestionsStreetUrl = '{{path('frontend_street_autocomplete')}}';
    $('#offer_typeProperties_availableFrom').datepicker({format: 'yyyy-mm-dd',language:'pl'});
    </script>
    <script src="{{asset('front-layout/js/add-offer-step-2.min.js')}}"></script>
{% endblock %}