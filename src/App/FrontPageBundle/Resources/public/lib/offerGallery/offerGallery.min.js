
(function(a){a.fn.offerGallery=function(){var c=this;var g=0;var b=5;var i=(c).find(".thumbs ul li").length;f();a(this).on("click",".thumbs a",function(j){j.preventDefault();if(a(this).hasClass("prev")||a(this).hasClass("next")){return}d(a(this))});a(this).on("click",".thumbs a.prev",function(j){j.preventDefault();h()});a(this).on("click",".thumbs a.next",function(j){j.preventDefault();e()});a(this).on("click",".main-photo a.prev",function(k){k.preventDefault();var j=a(c).find(".thumbs li.arrow-box").first();if(j.length>0&&j.prev().length>0){d(j.prev());h()}else{d(a(c).find(".thumbs li").first())}});a(this).on("click",".main-photo a.next",function(k){k.preventDefault();var j=a(c).find(".thumbs li.arrow-box").first();if(j.length>0&&j.next().length>0){d(j.next());e()}else{if(j.length>0&&j.next().length===0){d(a(c).find(".thumbs li").last());e()}else{d(a(c).find(".thumbs li").first())}}});function f(){var k=a(c).find(".thumbs").width();g=parseInt(k/b);var j=0;a(c).find(".thumbs ul li").each(function(){a(this).width(g-6);j+=g});a(c).find("ul").width(j)}function h(){var j=parseInt(a(c).find(".thumbs ul").css("left"));j=(j)?j:0;if(j>=0){return}a(c).find(".thumbs ul").css("left",j+g)}function e(){var k=parseInt(a(c).find(".thumbs ul").css("left"));var j=(i-b)*g;k=(k)?k:0;if(Math.abs(k)>=j){return}a(c).find(".thumbs ul").css("left",k-g)}function d(j){a(c).find("li.arrow-box").removeClass("arrow-box");j.closest("li").addClass("arrow-box");var k=j.find("img").attr("data-preview-src");a(c).find(".main-photo img").attr("src",k);a(c).find(".main-photo .main-img").attr("data-gallery-item",j.attr("data-gallery-item"))}}}(jQuery));