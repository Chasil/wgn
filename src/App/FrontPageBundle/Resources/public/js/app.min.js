
var typeOptions=[];$("#top").click(function(a){a.preventDefault();$("html, body").animate({scrollTop:0},"slow");return false});$(document).on("click","#cookies-accept",function(){Cookies.set("cookiesAccept","yes",{expires:365});$("#cookies-info").fadeOut()});$(document).on("click","#search-right-column a",function(b){b.preventDefault();var a=$("#search-box-form").serialize();window.location.href=$(this).attr("href")+"?"+a});$("#advanced-search").on("click",function(b){b.preventDefault();var a=this;if($(a).hasClass("more")){$("#search-advanced-options").slideDown("slow",function(){$(a).removeClass("more");$(a).addClass("less");$(a).html("mniej opcji")})}else{$("#search-advanced-options").slideUp("slow",function(){$(a).addClass("more");$(a).removeClass("less");$(a).html("więcej opcji")})}});$("#advanced-search").on("click",function(b){b.preventDefault();var a=this;if($(a).hasClass("more")){loadAdvancedForm();$("#search-advanced-options").slideDown("slow",function(){$(a).removeClass("more");$(a).addClass("less")})}else{$("#search-advanced-options").slideUp("slow",function(){$(a).addClass("more");$(a).removeClass("less")})}});$("#search_category").on("change",function(){loadAdvancedForm()});function getUrlVars(){var b={};var a=window.location.href.replace(/[?&]+([^=&]+)=([^&]*)/gi,function(c,d,e){b[d]=e});return b}function loadAdvancedForm(a){var a=$("#search_category").val();var b=$("#search-box-form").serialize();$.ajax({method:"GET",url:searchAdvancedFormUrl.replace(/&amp;/g,"&"),data:b,beforeSend:function(){$("#search-box .progress").css("display","block");$("#search-box .progress-bar").css("width","80%")}}).done(function(c){$("#search-box .progress-bar").css("width","100%");$("#search-advanced-options-container").html(c);console.log(a);if(a>2){$(".type-fields").html("");$("#search-advanced-options-container").find('div[data-form-part="type"]').prependTo(".type-fields");$(".rooms-fields").addClass("hidden");$(".type-fields").removeClass("hidden")}else{$(".rooms-fields").removeClass("hidden");$(".type-fields").addClass("hidden")}setTimeout(function(){$("#search-box .progress").css("display","none");$("#search-box .progress-bar").css("width","0%")},500)})}$(".mobile-corp-finder form").on("submit",function(a){a.preventDefault();$.ajax({method:"GET",url:officeSearchUrl,data:{q:$('.mobile-corp-finder input[name="finder"]').val()}}).done(function(e){var d="";if(e.results.length>0){d=""}for(var c=0;c<e.results.length;c++){var b=officeUrl.replace("rid",e.results[c].id).replace("rname",e.results[c].name);d+='<a href="'+b+'" class="search-office-result-row" data-name="'+e.results[c].name+'">'+e.results[c].name+" "+e.results[c].addresses[0].street+"</a>"}$("#office-search-results").html(d)})});$(".dr-wgn-btn").on("click",function(a){$(".dropmenu-wgn").find(".navbar-nav").toggleClass("active")});function searchLocation(){$.ajax({method:"GET",url:suggestionsUrl+"?q="+$("#search_locationIndexLike").val()}).done(function(c){var b="";if(c.results.length>0){b=""}for(var a=0;a<c.results.length;a++){b+='<div class="search-result-row" data-name="'+c.results[a].name+'">'+c.results[a].name+"</div>"}$("#l-suggestions").css("display","block");$("#l-suggestions").html(b)})}function searchLocationMobile(){$.ajax({method:"GET",url:suggestionsUrl+"?q="+$("#search_mobile_locationIndexLike").val()}).done(function(c){var b="";if(c.results.length>0){b=""}for(var a=0;a<c.results.length;a++){b+='<div class="search-result-row" data-name="'+c.results[a].name+'">'+c.results[a].name+"</div>"}$("#lm-suggestions").css("display","block");$("#lm-suggestions").html(b)})}$("#search_locationIndexLike").on("keyup",function(){if($(this).val().length>1){searchLocation()}});$("#search_locationIndexLike").on("focus",function(){var c="";var d=localStorage;var a=localStorage.getItem("lastLocations");if(a){a=JSON.parse(a);c+='<div class="srg">ostatnio wybrane</div>';for(var b=0;b<a.length;b++){c+='<div class="search-result-row" data-name="'+a[b].query+'">'+a[b].query+"</div>"}}c+='<div class="srg">wpisz lub wybierz</div>';c+='<div class="search-result-row" data-name="Cała Polska">Cała Polska</div>';c+='<div class="search-result-row" data-name="dolnośląskie">dolnośląskie</div>';c+='<div class="search-result-row" data-name="kujawsko-pomorskie">kujawsko-pomorskie</div>';c+='<div class="search-result-row" data-name="lubelskie">lubelskie</div>';c+='<div class="search-result-row" data-name="lubuskie">lubuskie</div>';c+='<div class="search-result-row" data-name="łódzkie">łódzkie</div>';c+='<div class="search-result-row" data-name="małopolskie">małopolskie</div>';c+='<div class="search-result-row" data-name="mazowieckie">mazowieckie</div>';c+='<div class="search-result-row" data-name="opolskie">opolskie</div>';c+='<div class="search-result-row" data-name="podkarpackie">podkarpackie</div>';c+='<div class="search-result-row" data-name="podlaskie">podlaskie</div>';c+='<div class="search-result-row" data-name="pomorskie">pomorskie</div>';c+='<div class="search-result-row" data-name="śląskie">śląskie</div>';c+='<div class="search-result-row" data-name="warmińsko-mazurskie">warmińsko-mazurskie</div>';c+='<div class="search-result-row" data-name="wielkopolskie">wielkopolskie</div>';c+='<div class="search-result-row" data-name="zachodniopomorskie">zachodniopomorskie</div>';$("#l-suggestions").css("display","block");$("#l-suggestions").html(c)});$(".wgn-main-find-btn").on("click",function(){var d=localStorage;var a=localStorage.getItem("lastLocations");if(!a){a=[]}else{a=JSON.parse(a)}var c=$("#search_locationIndexLike").val();if(c==""){c="Cała Polska"}console.log("tst"+c);for(var b=0;b<a.length;b++){if(a[b].query===c){a.splice(b,1);break}}if(c=="Cała Polska"||c==""){a.unshift({query:"Cała Polska"})}else{a.unshift({query:c})}if(a.length>4){a.pop()}d.setItem("lastLocations",JSON.stringify(a));if(c==="Cała Polska"){$("#search_locationIndexLike").val("")}});$("#search_locationIndexLike").on("focusout",function(){if(!$("#l-suggestions .search-result-row:hover").length){$("#l-suggestions").css("display","none")}});$("#search_mobile_locationIndexLike").on("keyup",function(){if($(this).val().length>1){searchLocationMobile()}});$("#search-mobile-box-form, #search-box-form").on("click",".search-result-row",function(){console.log("test2");$("#search_mobile_locationIndexLike").val($(this).data("name"));$("#search_locationIndexLike").val($(this).data("name"));$("#lm-suggestions").css("display","none");$("#l-suggestions").css("display","none")});function autocompleteRange(e,k,a){$(e).closest(".form-group").find(".suggestions").remove();var c=$(e).val().replace(/\s/g,"");var b=parseInt($(k).val().replace(/\s/g,""));if(isNaN(b)){b=0}var g=new RegExp("^"+c,"i");var j=(c.length>0)?false:true;var h=[];for(var d=0;d<a.length;d++){if(!g.test(a[d])){continue}if((b==0||a[d]>b)){h.push($.number(a[d]))}}var f='<div class="suggestions" style="display:block">';for(var d=0;d<h.length;d++){f+='<div class="sr" data-value="'+h[d]+'">'+h[d]+"</div>"}f+="</div>";$(e).closest(".form-group").append(f);$(".suggestions .sr").on("click",function(){$(this).closest(".form-group").find(":input").val($(this).data("value"));$(this).parent().remove()});$(e).on("focusout",function(){if(!$(".suggestions .sr:hover").length){$(e).closest(".form-group").find(".suggestions").remove()}})}$("#search_priceDefFrom, #search_priceDefTo").on("focus input",function(d){var a=getPricesRange();var b=calculateRange($(this).val(),a.start,a.end);var c=($(this).attr("id")==="search_priceDefFrom")?"#search_priceDefTo":"#search_priceDefFrom";if($(this).val()===""){b=getDefaultPrices()}autocompleteRange(this,c,b)});$("#search_squereFrom, #search_squereTo").on("focus input",function(d){var b=getSqueresRange();var a=calculateRange($(this).val(),b.start,b.end);var c=($(this).attr("id")==="search_squereFrom")?"#search_squereTo":"#search_squereFrom";if($(this).val()===""){a=getDefaultSqueres()}autocompleteRange(this,c,a)});$("#search_roomsFrom,#search_roomsTo").on("focus input",function(b){var a=($(this).attr("id")==="search_roomsFrom")?"#search_roomsTo":"#search_roomsFrom";autocompleteRange(this,a,getRoomsRange())});$("body").on("focus input","#search_priceDefm2From,#search_priceDefm2To",function(d){var a=getPricesM2Range();var b=calculateRange($(this).val(),a.start,a.end);var c=($(this).attr("id")==="search_priceDefm2From")?"#search_priceDefm2To":"#search_priceDefm2From";if($(this).val()===""){b=getDefaultPricesM2()}autocompleteRange(this,c,b)});$("body").on("focus input","#search_squerePlotFrom,#search_squerePlotTo",function(d){var b=getPlotSqueresRange();var a=calculateRange($(this).val(),b.start,b.end);var c=($(this).attr("id")==="search_squerePlotFrom")?"#search_squerePlotTo":"#search_squerePlotFrom";if($(this).val()===""){a=getDefaultPlotSqueres()}autocompleteRange(this,c,a)});$(function(){loadAdvancedForm();$("#fb .header").on("click",function(){if($("#fb").css("right")==="-220px"){$("#fb").animate({right:0})}else{$("#fb").animate({right:"-220px"})}})});function getRoomsRange(){return[1,2,3,4,5]}function getPricesRange(b){var d=(b)?$("#search_mobile_category").val():$("#search_category").val();var e=(b)?$("#search_mobile_transactionType").val():$("#search_transactionType").val();var c=(e==="1"||e==="2")?1:2;var a={start:3,end:7};switch(d){case"1":a=(c===1)?{start:5,end:8}:{start:4,end:6};break;case"2":a=(c===1)?{start:6,end:8}:{start:4,end:6};break;case"3":a=(c===1)?{start:6,end:8}:{start:4,end:6};break;case"4":a=(c===1)?{start:5,end:8}:{start:4,end:6};break;case"5":a=(c===1)?{start:5,end:8}:{start:4,end:6};break;case"6":a=(c===1)?{start:5,end:8}:{start:3,end:5};break}return a}function getPricesM2Range(b){var d=(b)?$("#search_mobile_category").val():$("#search_category").val();var e=(b)?$("#search_mobile_transactionType").val():$("#search_transactionType").val();var c=(e==="1"||e==="2")?1:2;var a={start:3,end:7};switch(d){case"1":a=(c===1)?{start:4,end:6}:{start:2,end:5};break;case"2":a=(c===1)?{start:4,end:6}:{start:2,end:5};break;case"3":a=(c===1)?{start:4,end:6}:{start:2,end:5};break;case"4":a=(c===1)?{start:4,end:6}:{start:2,end:5};break;case"5":a=(c===1)?{start:4,end:6}:{start:2,end:5};break;case"6":a=(c===1)?{start:4,end:6}:{start:2,end:5};break}return a}function getSqueresRange(b){var c=(b)?$("#search_mobile_category").val():$("#search_category").val();var a={start:3,end:7};switch(c){case"1":case"2":case"5":case"6":a={start:2,end:5};break;case"3":case"4":a={start:3,end:6};break}return a}function getPlotSqueresRange(){return{start:3,end:6}}function calculate(d,a,e,g){var h=d;var c=d.length;var j=d;for(var f=c;f<a;f++){d+="0"}for(var f=c;f<e-1;f++){j+="0"}if(parseInt(d)>parseInt(j)||d.length>a){return}g.push(parseInt(d));var k=a-c;var b="5";for(var f=1;f<k;f++){b+="0"}if(parseInt(h+b)>parseInt(j)){return}g.push(parseInt(h+b))}function calculateRange(d,e,a){var b=[];for(var c=e;c<a;c++){calculate(d,c,a,b)}return b}function getDefaultPricesM2(a){var d=(a)?$("#search_mobile_category").val():$("#search_category").val();var e=(a)?$("#search_mobile_transactionType").val():$("#search_transactionType").val();var c=(e==="1"||e==="2")?1:2;var b=[];switch(d){case"1":if(c===1){b=[1000,2000,3000,4000,5000,6000,7000,8000,9000,10000,12000,13000,14000,15000,20000]}else{b=[20,50,100,200,500,1000,2000,2500,3000,4000,5000,6000,8000,10000]}break;case"2":case"4":case"5":if(c===1){b=[1000,2000,3000,4000,5000,6000,7000,8000,9000,10000,11000,12000,15000,17000,20000]}else{b=[500,1000,1500,2000,2500,3000,3500,4000,5000,6000,7000,8000,9000,10000]}break;case"3":if(c===1){b=[10,20,50,100,150,200,250,300,400,500,1000,2000,3000,4000,5000]}else{b=[10,20,50,100,150,200,250,300,400,500,1000]}break;case"6":if(c===1){b=[500,600,700,800,900,1000,1500,1700,2000,2500,3000,3500,4000,4500,5000]}else{b=[10,15,20,30,35,40,50,60,70,80,90,100,150,200]}break}return b}function getDefaultPrices(a){var d=(a)?$("#search_mobile_category").val():$("#search_category").val();var e=(a)?$("#search_mobile_transactionType").val():$("#search_transactionType").val();var c=(e==="1"||e==="2")?1:2;var b=[];switch(d){case"1":if(c===1){b=[50000,100000,150000,200000,250000,300000,350000,400000,450000,500000,600000,800000,1000000,2000000,5000000]}else{b=[500,800,1000,1200,1500,1800,2000,2500,3000,4000,5000,6000,8000,10000,12000]}break;case"2":if(c===1){b=[100000,200000,300000,400000,500000,600000,700000,800000,900000,1000000,2000000,3000000,4000000,5000000,10000000]}else{b=[1000,1500,2000,1800,2500,3000,3500,4000,5000,6000,8000,10000,12000,15000,20000,25000]}break;case"3":if(c===1){b=[10000,20000,50000,70000,100000,200000,500000,700000,1000000,2000000,5000000,7000000,10000000]}else{b=[1000,2000,3000,4000,5000,7000,10000,20000,30000,40000,50000,70000,100000,250000,500000]}break;case"4":if(c===1){b=[10000,20000,50000,70000,100000,150000,200000,500000,1000000,2000000,5000000,7000000,10000000,50000000,100000000]}else{b=[1000,1500,2000,3000,4000,5000,7000,10000,15000,20000,50000,100000,250000,500000,1000000]}break;case"5":if(c===1){b=[10000,20000,50000,70000,100000,150000,200000,500000,1000000,2000000,5000000,7000000,10000000,50000000,100000000]}else{b=[1000,1500,2000,3000,4000,5000,7000,10000,15000,20000,50000,100000,250000,500000,1000000]}break;case"6":if(c===1){b=[5000,10000,15000,20000,25000,30000,35000,40000,45000,50000,60000,70000,80000,90000,100000]}else{b=[100,150,200,300,400,500,600,700,800,900,1000,1500,2000,2500,3000]}break}return b}function getDefaultSqueres(b){var c=(b)?$("#search_mobile_category").val():$("#search_category").val();var a=[];switch(c){case"1":case"5":a=[25,30,35,40,45,50,55,60,70,80,90,100,120,150,200];break;case"2":a=[50,80,100,120,150,200,250,300,350,400,500,700,1000,1500,2000];break;case"3":a=[500,800,1000,1500,2000,2500,3000,4000,5000,7000,10000,20000,50000,70000,100000];break;case"4":a=[25,50,75,100,200,300,400,500,750,1000,2000,50000,7000,10000,50000];break;case"6":a=[10,15,20,25,30,35,40,45,50,60,70,80,90,100,200];break}return a}function getDefaultPlotSqueres(){return[25,30,35,40,45,50,55,60,70,80,90,100,120,150,200]};