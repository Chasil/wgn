!function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof exports?module.exports=e(require("jquery")):e(jQuery)}(function(e){var r=e.ajax;e.ajax=function(t,n){"object"==typeof t&&(n=t,t=void 0),n=n||{};var o;n.xhr?o=n.xhr:(o=e.ajaxSettings.xhr(),n.xhr=function(){return o});var s=n.chunking||e.ajaxSettings.chunking;o.upload.onprogress=null;var i=r(t,n).promise();return i.progress=function(e){var r=0;return o.addEventListener("progress",function(t){var n=[t],o="";3==this.readyState&&s&&(o=this.responseText.substr(r),r=this.responseText.length,n.push(o)),e.apply(this,n)},!1),this},i.uploadProgress=function(e){return o.upload&&o.upload.addEventListener("progress",function(r){e.apply(this,[r])},!1),this},i}});