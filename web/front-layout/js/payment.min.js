
function calculateSmsPrice(a){if(a===3.69){return 3.69}else{if(a===19.68){return 23.37}}return 23.37}function calculatePrices(){var a=String(price).replace(".",",");var c=String(calculateSmsPrice(price)).replace(".",",");var b=String(calculateSmsPrice(price)/1.23).replace(".",",");if($('#payment-form input[name="payment[promo]"]:checked').length>0){a=String(price+promoPrice).replace(".",",");c=String(calculateSmsPrice(price+promoPrice)).replace(".",",");b=String(calculateSmsPrice(price+promoPrice)/1.23).replace(".",",")}$(".payment-methods .payment.card .total span").html(a);$(".payment-methods .payment.sms .total span").html(c);$("#sms-payment-info .total").html(c);$("#sms-payment-info .total-netto").html(b)}function showPaymentInfo(){if($("#payment-form .payment.selected").hasClass("sms")){$("#card-payment-info").slideUp();$("#sms-payment-info input").attr("data-validator","required");$("#card-payment-info input, #card-payment-info select").removeAttr("data-validator");$("#sms-payment-info").slideDown()}else{$("#sms-payment-info").slideUp();$("#sms-payment-info input").removeAttr("data-validator");$('#card-payment-info input[name!="payment[phone]"], #card-payment-info select').attr("data-validator","required");$('#card-payment-info input[name="payment[email]"]').attr("data-validator","required,email");$("#card-payment-info").slideDown()}}$("#payment-form").validate();$("#payment-form :input").on("change",function(){calculatePrices()});$("#payment-form .payment :input").on("change",function(){$("#payment-form .payment.selected").removeClass("selected");$(this).closest(".payment").addClass("selected");showPaymentInfo()});$(function(){calculatePrices();showPaymentInfo()});